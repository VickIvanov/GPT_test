# Документация
Документация к `iO` - cервису для проверки аудиотреков на наличие авторских прав, разработанной на хакатоне «Цифровой Прорыв», финальный этап, заказчик решения - АО ГазПромБанк.

#### [**Ссылка на Прототип проекта**](http://130.193.46.118)

# Вступление и описание решения

Проект 'iO' - cервис для проверки аудиотреков на наличие авторских прав..

Позволяет контент-мейкерам проверить музыкальную композицию на наличие авторских прав, до ее встраивания в видеоролик. Сервис распознает загруженную музыкальную композицию в нескольких базах (включая нашу собственную), узнает название и исполнителя. После этого проводит многоуровневую проверку в российских и зарубежных базах авторских прав. Далее, если запись запрещена к свободному распространению, сервис рекомендует похожие музыкальные композиции из списка бесплатных композиций - либо позволяет приобрести именно эту композицию.

Уникальностью нашего сервиса является: качественное распознавание звука, многоуровневая проверка распознавания и наличия прав, возможность развивать и наполнять собственную базу, удобный интерфейс. Разработанные алгоритмы позволяют с высокой точностью определять исполнителя. До начала обработки видео пользователь может в удобном приложении проверить понравившийся трек, чтобы видеоролик, в который он встраивает аудио для размещения на Youtube и других платформах, не был удален за нарушение авторских прав.

Сервис использует нейронные сети для распознавания аудио по сигнатурам.

Стек проекта: `Python`, `BeautifulSoup`, `psycopg2`, `requests`, `fast-api`,  `postgreSQL`, `React.Native`, `Celery`, `Docker`.

У нас есть [***рабочая MVP-версия (минимально работоспособная версия продукта)***](http://130.193.46.118), в виде приложения, которое не только обладает удобным интерфейсом, но достаточным функционалом, чтобы продемонстрировать основные аспекты решения задачи кейса. Мы запустили ее на [внешнем сервере](http://130.193.46.118).

Спасибо организаторам за интересную задачу, мы будем рады продолжить сотрудничество!

# Техническое описание проекта
## Установка
Т.к. в проекте используется микросервисная архитектура, большая часть сервисов доступна для скачивания в виде контейнеров в [реджистри от GitHub](https://github.com/alewkinr/?tab=packages&repo_name=io).
Для локального развертывания решения необходимо авторизоваться в GitHub Package Registry [по инструкции](https://docs.github.com/en/free-pro-team@latest/packages/using-github-packages-with-your-projects-ecosystem/configuring-docker-for-use-with-github-packages#authenticating-to-github-packages) и в корне проекта выполнить команду `docker-compose up --build`

Важно, что у вас должен быть установлен и запущен `Docker`.

> После того, как установка всех необходимых зависимостей будет выполнена, вы сможете потестировать систему локально по ссылке http://localhost/

## Структура
Проект представляет собой монорепозиторий. Ниже структура директорий:
```
.
├── Makefile
├── README.md
├── back - backend проекта
│   ├── auth-service
│   ├── legal-service
│   ├── license-supervisor
│   └── upload-service
├── docker-compose.yaml
├── mobile - мобильный frontend проекта (react native)
│   ├── IOpenApp
├── infra
│   ├── __init__.py
│   ├── env
│   ├── metrics
│   ├── postgres
│   ├── runner
│   └── traefik
```
Исходный код серверной части — в папке `back`, исходный код мобильной части приложения — в папке `mobile`. Кроме того, данные по инфраструктурным вопросам в `infra`

Каждая директория по возможности содержит файл `Makefile` с базовыми командами.

## Архитектура приложения
Приложение состоит из микро-сервисов, включая сервис авторизации, сервис моделей, сервис-ui и  т.д. 
ML модели размещены отдельно и запускаются в docker-контейнерах в требуемом окружении.

# Дополнительные материалы

- [**Прототип проекта, т.е. рабочая MVP-версия (минимально работоспособная версия продукта)**](http://130.193.46.118).
- [Предварительная дорожная карта и смета](https://drive.google.com/drive/folders/1EdO1RspZgb3N-MO1c8z-pxKboQSWwY4M?usp=sharing) общих затрат по разработке и внедрению на архитектуре банка - как минимальной, так и дополнительно масштабируемой версии проекта. Также здесь находятся предлагаемые модели монетизации.
